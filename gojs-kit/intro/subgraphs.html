
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"/>


<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="../assets/css/style.css">
<!-- Copyright 1998-2024 by Northwoods Software Corporation. -->


<meta itemprop="name" content="SubGraphs" />
<meta property="og:title" content="SubGraphs" />
<meta name="twitter:title" content="SubGraphs" />


<meta property="og:image" content="https://gojs.net/latest/assets/images/fp/defaultCard.png" />
<meta itemprop="image" content="https://gojs.net/latest/assets/images/fp/defaultCard.png" />
<meta name="twitter:image" content="https://gojs.net/latest/assets/images/fp/defaultCard.png" />

<meta property="og:url" content="https://gojs.net/latest/intro/subgraphs.html" />
<meta property="twitter:url" content="https://gojs.net/latest/intro/subgraphs.html" />

<meta name="twitter:card" content="summary_large_image" />
<meta property="og:type" content="website" />
<meta property="twitter:domain" content="gojs.net" />

    <title>
      SubGraphs | GoJS
    </title>
    <link rel="stylesheet" href="../assets/css/prism.css"/>
  </head>
  <script>
    window.diagrams = [];
    window.goCode = function (pre, w, h, parentid, animation) {
      window
        .diagrams
        .push([pre, w, h, parentid, animation]);
    }
  </script>
  <body>
    <nav id="navTop" class=" w-full h-[var(--topnav-h)] z-30 bg-white border-b border-b-gray-200">
  <div class="max-w-screen-xl mx-auto flex flex-wrap items-start justify-between px-4">
    <a class="text-white bg-nwoods-primary font-bold !leading-[calc(var(--topnav-h)_-_1px)] my-0 px-2 text-4xl lg:text-5xl logo"
       href="../">
      GoJS
    </a>
    <div class="relative">
      <button id="topnavButton" class="h-[calc(var(--topnav-h)_-_1px)] px-2 m-0 text-gray-900 bg-inherit shadow-none md:hidden hover:!bg-inherit hover:!text-nwoods-accent hover:!shadow-none" aria-label="Navigation">
        <svg class="h-7 w-7 block" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <div id="topnavList" class="hidden md:block">
        <div class="absolute right-0 z-30 flex flex-col items-end rounded border border-gray-200 p-4 pl-12 shadow bg-white text-gray-900 font-semibold
                    md:flex-row md:space-x-4 md:items-start md:border-0 md:p-0 md:shadow-none md:bg-inherit">
          <a href="../learn/">Learn</a>
          <a href="../samples/">Samples</a>
          <a href="../intro/">Intro</a>
          <a href="../api/">API</a>
          <a href="../download.html">Download</a>
          <a href="https://forum.nwoods.com/c/gojs/11" target="_blank" rel="noopener">Forum</a>
          <a id="tc" href="https://nwoods.com/contact.html"
            target="_blank" rel="noopener" onclick="getOutboundLink('https://nwoods.com/contact.html', 'contact');">Contact</a>
          <a id="tb" href="https://nwoods.com/sales/index.html"
            target="_blank" rel="noopener" onclick="getOutboundLink('https://nwoods.com/sales/index.html', 'buy');">Buy</a>
        </div>
      </div>
    </div>
  </div>
</nav>
<script>
  window.addEventListener("DOMContentLoaded", function () {
    // topnav
    var topButton = document.getElementById("topnavButton");
    var topnavList = document.getElementById("topnavList");
    if (topButton && topnavList) {
      topButton.addEventListener("click", function (e) {
        topnavList
          .classList
          .toggle("hidden");
        e.stopPropagation();
      });
      document.addEventListener("click", function (e) {
        // if the clicked element isn't the list, close the list
        if (!topnavList.classList.contains("hidden") && !e.target.closest("#topnavList")) {
          topButton.click();
        }
      });

      // set active <a> element
      var url = window
        .location
        .href
        .toLowerCase();
      var aTags = topnavList.getElementsByTagName('a');
      for (var i = 0; i < aTags.length; i++) {
        var lowerhref = aTags[i]
          .href
          .toLowerCase();
        if (url.startsWith(lowerhref)) {
          aTags[i]
            .classList
            .add('active');
          break;
        }
      }
    }
  });
</script>
    <div class="sticky top-0 left-0 z-10 px-2 w-full bg-white border-b border-b-gray-200 md:hidden">
  <button id="sidenavButton" class="flex p-2 text-gray-900 bg-inherit shadow-none items-center text-sm font-semibold hover:!bg-inherit hover:!text-nwoods-accent hover:!shadow-none" aria-label="Navigation">
    <svg class="h-7 w-7 block mr-2" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span>Menu</span>
  </button>
</div>
<script>
  window.addEventListener("DOMContentLoaded", function () {
    // sidenav
    var sideButton = document.getElementById("sidenavButton");
    var sidenav = document.getElementById("sidenav");
    if (sideButton && sidenav) {
      sideButton.addEventListener("click", function (e) {
        sidenav
          .classList
          .toggle("hidden");
        e.stopPropagation();
      });
      document.addEventListener("click", function (e) {
        // if the clicked element isn't the list, close the list
        if (!sidenav.classList.contains("hidden") && !e.target.closest("#sidenavList")) {
          sideButton.click();
        }
      });
    }
  });
</script>
    
    <div class="flex flex-row md:min-h-screen w-full max-w-screen-xl mx-auto">
      
      <aside id="sidenav"
  class="hidden fixed top-0 left-0 z-10 w-full bg-black/10 min-h-screen max-h-screen overflow-x-hidden overflow-y-auto flex-shrink-0
         md:block md:sticky md:w-52 md:min-h-0 md:bg-inherit md:border-r md:border-r-gray-200 md:overscroll-auto">
  <nav id="sidenavList" class="flex flex-col bg-white w-52 min-h-screen pl-2 pt-4 pb-24 md:w-full md:min-h-0">
    
  <a href="index.html">Basics</a>
  <a href="buildingObjects.html">Building Parts</a>
  <a href="usingModels.html">Using Models</a>
  <a href="dataBinding.html">Data Binding</a>
  <a href="react.html">GoJS with React</a>
  <a href="svelte.html">GoJS with Svelte</a>
  <a href="angular.html">GoJS with Angular</a>
  <a href="textBlocks.html">TextBlocks</a>
  <a href="shapes.html">Shapes</a>
  <a href="pictures.html">Pictures</a>
  <a href="panels.html">Panels</a>
  <a href="tablePanels.html">Table Panels</a>
  <a href="brush.html">Brushes</a>
  <a href="sizing.html">Sizing Objects</a>
  <a href="itemArrays.html">Item Arrays</a>
  <a href="changedEvents.html">Changed Events</a>
  <a href="transactions.html">Transactions</a>
  <a href="viewport.html">Coordinates</a>
  <a href="initialView.html">Initial View</a>
  <a href="collections.html">Collections</a>
  <a href="links.html">Links</a>
  <a href="linkLabels.html">Link Labels</a>
  <a href="connectionPoints.html">Link Points</a>
  <a href="ports.html">Ports</a>
  <a href="nodes.html">Nodes</a>
  <a href="typings.html">Typings</a>
  <a href="debugging.html">Debugging</a>
  <a href="layouts.html">Layouts</a>
  <a href="trees.html">Trees</a>
  <a href="subtrees.html">SubTrees</a>
  <a href="groups.html">Groups</a>
  <a href="subgraphs.html">SubGraphs</a>
  <a href="sizedGroups.html">Sized Groups</a>
  <a href="selection.html">Selection</a>
  <a href="highlighting.html">Highlighting</a>
  <a href="theming.html">Theming</a>
  <a href="routers.html">Routers</a>
  <a href="animation.html">Animation</a>
  <a href="toolTips.html">ToolTips</a>
  <a href="contextmenus.html">Context Menus</a>
  <a href="events.html">Diagram Events</a>
  <a href="tools.html">Tools</a>
  <a href="commands.html">Commands</a>
  <a href="permissions.html">Permissions</a>
  <a href="validation.html">Validation</a>
  <a href="HTMLInteraction.html">HTML Interaction</a>
  <a href="layers.html">Layers &amp; Z-ordering</a>
  <a href="palette.html">Palette</a>
  <a href="overview.html">Overview</a>
  <a href="replacingDeleting.html">Replacing and Deleting</a>
  <a href="buttons.html">Buttons</a>
  <a href="templateMaps.html">Template Maps</a>
  <a href="legends.html">Legends and Titles</a>
  <a href="extensions.html">Extensions</a>
  <a href="geometry.html">Geometry Strings</a>
  <a href="grids.html">Grid Patterns</a>
  <a href="graduatedPanels.html">Graduated Panels</a>
  <a href="SVGcontext.html">Rendering to SVG</a>
  <a href="makingSVG.html">Snapshot to SVG</a>
  <a href="makingImages.html">Diagram Images</a>
  <a href="printing.html">Printing</a>
  <a href="serverSideImages.html">Server-side Images</a>
  <a href="nodeScript.html">GoJS in Node.js</a>
  <a href="testing.html">Testing</a>
  <a href="performance.html">Performance</a>
  <a href="platforms.html">Platforms</a>
  <a href="deployment.html">Deployment</a>

  </nav>
</aside>
<script>
  var navList = document.getElementById('sidenavList');
  if (navList !== null) {
    var url = window.location.href;
    var lindex = url.lastIndexOf('/');
    url = url
      .slice(lindex + 1)
      .toLowerCase();
    var aTags = navList.getElementsByTagName('a');
    var currentindex = -1;
    for (var i = 0; i < aTags.length; i++) {
      var lowerhref = aTags[i]
        .href
        .toLowerCase();
      if (lowerhref.indexOf('/' + url) !== -1) {
        currentindex = i;
        aTags[i]
          .classList
          .add('active');
        break;
      }
    }
  }
</script>
      
      <div class="px-4 pb-16 w-full overflow-hidden prose">
        
<h1>Groups as SubGraphs</h1>
<p>
  There are some common ways of treating the nodes and links that are the members of a group as if it were its own graph.
  One way to declutter a diagram is to "collapse" a <a>Group</a> to hide the subgraph that it holds.
</p>
<p>
  A <a>Group</a> has its own <a>Group.layout</a> that is responsible for the positioning of member <a>Node</a>s and the routing of member <a>Link</a>s.
  This is exactly like a <a>Diagram</a> having its own <a>Diagram.layout</a> that positions top-level Nodes and routes top-level Links.
</p>
<p>
  Keep in mind that subgraphs are not separate Diagrams and that Groups are just one way of organizing Parts.
  Because subgraphs are collections of Nodes and Links in the same Diagram as the Group itself,
  it is possible to have Links that connect Nodes that are inside a Group with Nodes that are outside of the group.
  It is also possible to have links that connect nodes with the group of which they are a member.
</p>

<h2 id="LayoutsOfSubgraphs">Layouts of SubGraphs</h2>
<p>
  You can specify a <a>Layout</a> that applies to a group's subgraph by setting the <a>Group.layout</a> property.
  This operates on the group's member nodes and links as if it were its own diagram.
  A diagram layout of nodes that include groups with their own layout will treat those groups as if they were simple nodes,
  albeit probably larger than normal nodes.
</p>
<p>
  In this example the group has a different layout than the layout for the whole diagram.
  In this case the only difference is the direction in which the layout works, but you could use a completely different layout algorithm.
</p>
<p>
  For simplicity these examples use the default templates for nodes and links.
</p>

<pre class="lang-js" id="layouts"><code>
diagram.groupTemplate =
  new go.Group("Auto", {
      // declare the Group.layout:
      layout: new go.LayeredDigraphLayout({
          direction: 0,
          columnSpacing: 10
        })
    })
    .add(
      new go.Shape("RoundedRectangle", {  // surrounds everything
          parameter1: 10, fill: "rgba(128,128,128,0.33)"  // translucent!
        }),
      new go.Panel("Vertical")  // position header above the subgraph
        .add(
          // group title near top, next to button
          new go.TextBlock({ font: "Bold 12pt Sans-Serif" })
            .bind("text"),
          // represents area for all member parts
          new go.Placeholder({ padding: 5, background: "white" })
        )
    );

// declare the Diagram.layout:
diagram.layout =
  new go.LayeredDigraphLayout({
      direction: 90,
      layerSpacing: 10,
      isRealtime: false
    });

const nodeDataArray = [
  { key: 1, text: "Alpha" },
  { key: 2, text: "Omega", isGroup: true },
  { key: 3, text: "Beta", group: 2 },
  { key: 4, text: "Gamma", group: 2 },
  { key: 5, text: "Epsilon", group: 2 },
  { key: 6, text: "Zeta", group: 2 },
  { key: 7, text: "Delta" }
];
const linkDataArray = [
  { from: 1, to: 2 }, // from a Node to the Group
  { from: 3, to: 4 },  // this link is a member of the Group
  { from: 3, to: 5 },  // this link is a member of the Group
  { from: 4, to: 6 },  // this link is a member of the Group
  { from: 5, to: 6 },  // this link is a member of the Group
  { from: 2, to: 7 }  // from the Group to a Node
];
  
diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('layouts', 600, 250);
</script>

<p>
  The default layout for a Group is an instance of <a>Layout</a>, just as it is for <a>Diagram</a>.
  So if you do not specify a value for <a>Group.layout</a>,
  the default layout for the group will position all member nodes that do not have a real <a>Part.location</a>.
</p>

<p>
  If you explicitly set <a>Group.layout</a> to null, the Diagram will be responsible for laying out all of Nodes and Links as if the Group did not exist.
  This is possible because a subgraph is not another <a>Diagram</a>.
</p>

<h2 id="CollapsingAndExpandingGroups">Collapsing and Expanding Groups</h2>
<p>
  One common technique to visually simplify a diagram is to hide parts of them by "collapsing" them.
  In the case of <a>Group</a>s, it may make sense to be able to hide the subgraph.
</p>
<p>
  To collapse a group, set <a>Group.isSubGraphExpanded</a> to false; to make sure it is expanded, set that property to true.
</p>
<p>
  It is commonplace to provide a button on a group to allow users to collapse and expand groups as they wish.
  <b>GoJS</b> makes this easy to implement by providing a predefined kind of <a>Panel</a>, named "SubGraphExpanderButton",
  that acts as a button to collapse and expand <a>Group</a>s.
  This button changes the visibility of the member nodes and links but does not change the visibility of the group itself.
  When the group's visual tree includes a <a>Placeholder</a>, the placeholder will automatically shrink when the member parts
  become invisible and will inflate when the member parts become visible again.
</p>
<p>
  Click on the expander button to collapse or expand the group.
  Changing the size of the group also invalidates the layout that is responsible for positioning the group as a single node.
  Often the size of the group changes greatly, so a layout usually needs to be performed again.
</p>
<pre class="lang-js" id="collapseExpand"><code>
diagram.groupTemplate =
  new go.Group("Auto", {
      // declare the Group.layout:
      layout: new go.LayeredDigraphLayout({
          direction: 0,
          columnSpacing: 10
        })
    })
    .add(
      new go.Shape("RoundedRectangle", {  // surrounds everything
          parameter1: 10, fill: "rgba(128,128,128,0.33)"
        }),
      new go.Panel("Vertical",  // position header above the subgraph
            { defaultAlignment: go.Spot.Left })
        .add(
          new go.Panel("Horizontal",  // the header
              { defaultAlignment: go.Spot.Top })
            .add(
              // the button for the user to expand/collapse the group
              go.GraphObject.make("SubGraphExpanderButton"),
              // group title near top, next to button
              new go.TextBlock({ font: "Bold 12pt Sans-Serif" })
                .bind("text")
            ),
          // represents area for all member parts
          new go.Placeholder({ padding: new go.Margin(0, 10), background: "white" })
        )
    );

// declare the Diagram.layout:
diagram.layout =
  new go.LayeredDigraphLayout({
      direction: 90,
      layerSpacing: 10,
      isRealtime: false
    });

const nodeDataArray = [
  { key: 1, text: "Alpha" },
  { key: 2, text: "Omega", isGroup: true },
  { key: 3, text: "Beta", group: 2 },
  { key: 4, text: "Gamma", group: 2 },
  { key: 5, text: "Epsilon", group: 2 },
  { key: 6, text: "Zeta", group: 2 },
  { key: 7, text: "Delta" }
];
const linkDataArray = [
  { from: 1, to: 2 }, // from a Node to the Group
  { from: 3, to: 4 },  // this link is a member of the Group
  { from: 3, to: 5 },  // this link is a member of the Group
  { from: 4, to: 6 },  // this link is a member of the Group
  { from: 5, to: 6 },  // this link is a member of the Group
  { from: 2, to: 7 }  // from the Group to a Node
];
diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('collapseExpand', 600, 250);
</script>

<p>
  If you do not want a layout to be performed again when the group changes size,
  you can set the <a>Part.layoutConditions</a> property to control the circumstances under which the layout will be invalidated.
</p>

<p>
  A <a>Placeholder</a> can be a piece within complex panels.
  The following example demonstrates a different way to have each Group have a header holding a button and some text.
</p>
<pre class="lang-js" id="collapseExpand2"><code>
diagram.groupTemplate =
  new go.Group("Auto", { layout: new go.TreeLayout() })
    .add(
      new go.Shape("Rectangle", { fill: "orange", stroke: "darkorange" }),
      new go.Panel("Table", { margin: 0.5 })
        // avoid overlapping border with table contents
        .addRowDefinition(0, { background: "white" })  // header is white
        .add(
          go.GraphObject.make("SubGraphExpanderButton", { row: 0, column: 0, margin: 3 }),
          new go.TextBlock({  // title is centered in header
              row: 0, column: 1, font: "bold 14px Sans-Serif", stroke: "darkorange",
              textAlign: "center", stretch: go.Stretch.Horizontal
            })
            .bind("text"),
          new go.Placeholder({  // becomes zero-sized when Group.isSubGraphExpanded is false
              row: 1, columnSpan: 2, padding: 10, alignment: go.Spot.TopLeft
            })
            .bindObject("padding", "isSubGraphExpanded", exp => exp ? 10 : 0)
        )
    );

diagram.layout =
  new go.TreeLayout({ isRealtime: false });

diagram.model = new go.GraphLinksModel([
    { key: 1, text: "Alpha" },
    { key: 2, text: "GROUP", isGroup: true },
    { key: 3, text: "Beta", group: 2 },
    { key: 4, text: "Gamma", group: 2 },
    { key: 5, text: "Delta" }
  ], [
    { from: 1, to: 3 },
    { from: 3, to: 4 },
    { from: 1, to: 5 }
  ]);
</code></pre>
<script>
  goCode('collapseExpand2', 600, 200);
</script>
<p>
  Note how when collapsing the group, the link from "Alpha" to "Beta" changes to appear to connect with the Group
  rather than with the now hidden "Beta" Node.
</p>

      </div>
    </div>
    <footer class="bg-white text-gray-900 border-t border-t-gray-200">
  <div class="w-full max-w-screen-lg mx-auto px-4 py-6">
    
    <p id="version" class="text-xs text-gray-900 m-0"></p>
    <div class="text-sm px-0 mb-4 grid grid-cols-2 sm:grid-cols-3 gap-y-10">
      <div>
        <h2 class="text-base font-semibold text-nwoods-primary">GoJS</h2>
        <ul class="list-none space-y-4 md:space-y-1 px-0">
          <li>
            <a href="../samples/index.html">Samples</a>
          </li>
          <li>
            <a href="../learn/index.html">Learn</a>
          </li>
          <li>
            <a href="../intro/index.html">Intro</a>
          </li>
          <li>
            <a href="../api/index.html">API</a>
          </li>
          <li>
            <a href="../changelog.html">Changelog</a>
          </li>
          <li>
            <a href="https://github.com/NorthwoodsSoftware/GoJS" target="_blank" rel="noopener">GitHub</a>
          </li>
        </ul>
      </div>
      <div>
        <h2 class="text-base font-semibold text-nwoods-primary">Support</h2>
        <ul class="list-none space-y-4 md:space-y-1 px-0">
          <li>
            <a href="https://nwoods.com/contact.html"
              target="_blank" rel="noopener" onclick="getOutboundLink('https://nwoods.com/contact.html', 'contact');">Contact</a>
          </li>
          <li>
            <a href="https://forum.nwoods.com/c/gojs" target="_blank" rel="noopener">Forum</a>
          </li>
          <li>
            <a href="https://nwoods.com/app/activate.aspx?sku=gojs" target="_blank" rel="noopener">Activate</a>
          </li>
          <li>
            <a href="https://nwoods.com/sales/index.html"
              target="_blank" rel="noopener" onclick="getOutboundLink('https://nwoods.com/sales/index.html', 'buy');">Buy</a>
          </li>
          
        </ul>
      </div>
      <div>
        <h2 class="text-base font-semibold text-nwoods-primary">Company</h2>
        <ul class="list-none space-y-4 md:space-y-1 px-0">
          <li>
            <a target="_blank" href="https://nwoods.com" target="_blank" rel="noopener">Northwoods</a>
          </li>
          <li>
            <a target="_blank" href="https://nwoods.com/about.html" target="_blank" rel="noopener">About Us</a>
          </li>
          <li>
            <a target="_blank" href="https://nwoods.com/contact.html" target="_blank" rel="noopener">Contact Us</a>
          </li>
          <li>
            <a target="_blank" href="https://nwoods.com/consulting.html" target="_blank" rel="noopener">Consulting</a>
          </li>
          <li>
            <a target="_blank" href="https://twitter.com/northwoodsgo" target="_blank" rel="noopener">Twitter</a>
          </li>
        </ul>
      </div>
    </div>
    <p class="text-sm text-gray-900 md:mb-6">
      Copyright 1998-2024 <a href="https://nwoods.com">Northwoods Software</a>
    </p>
  </div>
</footer>
  </body>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S5QK8VSK84"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'G-S5QK8VSK84');
  var getOutboundLink = function (url, label) {
    gtag('event', 'click', {
      'event_category': 'outbound',
      'event_label': label,
      'transport_type': 'beacon'
    });
  }
  const params = new URL(document.location).searchParams
  let a = params.get('a');
  if (a) localStorage.setItem('a', a);
  a = localStorage.getItem('a');
  document.getElementById('tc').href += `?a=${a}`;
  document.getElementById('tb').href += `?a=${a}`;
</script>
  <script src="../assets/js/prism.js"></script>
  <script src="https://unpkg.com/gojs@3.0.10"></script>
  
  <script src="../assets/js/goDoc.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      if (window.go)
        document
          .getElementById('version')
          .textContent = "GoJS version " + go.version;
      if (window.goDoc)
        window.goDoc();
      var d = window.diagrams;
      for (var i = 0; i < d.length; i++) {
        var dargs = d[i];
        goCodeExecute(dargs[0], dargs[1], dargs[2], dargs[3], dargs[4]);
      }
      if (window.extra)
        window.extra();
      }
    );
  </script>
</html>