
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"/>


<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="../assets/css/style.css">
<!-- Copyright 1998-2024 by Northwoods Software Corporation. -->


<meta itemprop="name" content="Links" />
<meta property="og:title" content="Links" />
<meta name="twitter:title" content="Links" />


<meta property="og:image" content="https://gojs.net/latest/assets/images/fp/defaultCard.png" />
<meta itemprop="image" content="https://gojs.net/latest/assets/images/fp/defaultCard.png" />
<meta name="twitter:image" content="https://gojs.net/latest/assets/images/fp/defaultCard.png" />

<meta property="og:url" content="https://gojs.net/latest/intro/links.html" />
<meta property="twitter:url" content="https://gojs.net/latest/intro/links.html" />

<meta name="twitter:card" content="summary_large_image" />
<meta property="og:type" content="website" />
<meta property="twitter:domain" content="gojs.net" />

    <title>
      Links | GoJS
    </title>
    <link rel="stylesheet" href="../assets/css/prism.css"/>
  </head>
  <script>
    window.diagrams = [];
    window.goCode = function (pre, w, h, parentid, animation) {
      window
        .diagrams
        .push([pre, w, h, parentid, animation]);
    }
  </script>
  <body>
    <nav id="navTop" class=" w-full h-[var(--topnav-h)] z-30 bg-white border-b border-b-gray-200">
  <div class="max-w-screen-xl mx-auto flex flex-wrap items-start justify-between px-4">
    <a class="text-white bg-nwoods-primary font-bold !leading-[calc(var(--topnav-h)_-_1px)] my-0 px-2 text-4xl lg:text-5xl logo"
       href="../">
      GoJS
    </a>
    <div class="relative">
      <button id="topnavButton" class="h-[calc(var(--topnav-h)_-_1px)] px-2 m-0 text-gray-900 bg-inherit shadow-none md:hidden hover:!bg-inherit hover:!text-nwoods-accent hover:!shadow-none" aria-label="Navigation">
        <svg class="h-7 w-7 block" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <div id="topnavList" class="hidden md:block">
        <div class="absolute right-0 z-30 flex flex-col items-end rounded border border-gray-200 p-4 pl-12 shadow bg-white text-gray-900 font-semibold
                    md:flex-row md:space-x-4 md:items-start md:border-0 md:p-0 md:shadow-none md:bg-inherit">
          <a href="../learn/">Learn</a>
          <a href="../samples/">Samples</a>
          <a href="../intro/">Intro</a>
          <a href="../api/">API</a>
          <a href="../download.html">Download</a>
          <a href="https://forum.nwoods.com/c/gojs/11" target="_blank" rel="noopener">Forum</a>
          <a id="tc" href="https://nwoods.com/contact.html"
            target="_blank" rel="noopener" onclick="getOutboundLink('https://nwoods.com/contact.html', 'contact');">Contact</a>
          <a id="tb" href="https://nwoods.com/sales/index.html"
            target="_blank" rel="noopener" onclick="getOutboundLink('https://nwoods.com/sales/index.html', 'buy');">Buy</a>
        </div>
      </div>
    </div>
  </div>
</nav>
<script>
  window.addEventListener("DOMContentLoaded", function () {
    // topnav
    var topButton = document.getElementById("topnavButton");
    var topnavList = document.getElementById("topnavList");
    if (topButton && topnavList) {
      topButton.addEventListener("click", function (e) {
        topnavList
          .classList
          .toggle("hidden");
        e.stopPropagation();
      });
      document.addEventListener("click", function (e) {
        // if the clicked element isn't the list, close the list
        if (!topnavList.classList.contains("hidden") && !e.target.closest("#topnavList")) {
          topButton.click();
        }
      });

      // set active <a> element
      var url = window
        .location
        .href
        .toLowerCase();
      var aTags = topnavList.getElementsByTagName('a');
      for (var i = 0; i < aTags.length; i++) {
        var lowerhref = aTags[i]
          .href
          .toLowerCase();
        if (url.startsWith(lowerhref)) {
          aTags[i]
            .classList
            .add('active');
          break;
        }
      }
    }
  });
</script>
    <div class="sticky top-0 left-0 z-10 px-2 w-full bg-white border-b border-b-gray-200 md:hidden">
  <button id="sidenavButton" class="flex p-2 text-gray-900 bg-inherit shadow-none items-center text-sm font-semibold hover:!bg-inherit hover:!text-nwoods-accent hover:!shadow-none" aria-label="Navigation">
    <svg class="h-7 w-7 block mr-2" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span>Menu</span>
  </button>
</div>
<script>
  window.addEventListener("DOMContentLoaded", function () {
    // sidenav
    var sideButton = document.getElementById("sidenavButton");
    var sidenav = document.getElementById("sidenav");
    if (sideButton && sidenav) {
      sideButton.addEventListener("click", function (e) {
        sidenav
          .classList
          .toggle("hidden");
        e.stopPropagation();
      });
      document.addEventListener("click", function (e) {
        // if the clicked element isn't the list, close the list
        if (!sidenav.classList.contains("hidden") && !e.target.closest("#sidenavList")) {
          sideButton.click();
        }
      });
    }
  });
</script>
    
    <div class="flex flex-row md:min-h-screen w-full max-w-screen-xl mx-auto">
      
      <aside id="sidenav"
  class="hidden fixed top-0 left-0 z-10 w-full bg-black/10 min-h-screen max-h-screen overflow-x-hidden overflow-y-auto flex-shrink-0
         md:block md:sticky md:w-52 md:min-h-0 md:bg-inherit md:border-r md:border-r-gray-200 md:overscroll-auto">
  <nav id="sidenavList" class="flex flex-col bg-white w-52 min-h-screen pl-2 pt-4 pb-24 md:w-full md:min-h-0">
    
  <a href="index.html">Basics</a>
  <a href="buildingObjects.html">Building Parts</a>
  <a href="usingModels.html">Using Models</a>
  <a href="dataBinding.html">Data Binding</a>
  <a href="react.html">GoJS with React</a>
  <a href="svelte.html">GoJS with Svelte</a>
  <a href="angular.html">GoJS with Angular</a>
  <a href="textBlocks.html">TextBlocks</a>
  <a href="shapes.html">Shapes</a>
  <a href="pictures.html">Pictures</a>
  <a href="panels.html">Panels</a>
  <a href="tablePanels.html">Table Panels</a>
  <a href="brush.html">Brushes</a>
  <a href="sizing.html">Sizing Objects</a>
  <a href="itemArrays.html">Item Arrays</a>
  <a href="changedEvents.html">Changed Events</a>
  <a href="transactions.html">Transactions</a>
  <a href="viewport.html">Coordinates</a>
  <a href="initialView.html">Initial View</a>
  <a href="collections.html">Collections</a>
  <a href="links.html">Links</a>
  <a href="linkLabels.html">Link Labels</a>
  <a href="connectionPoints.html">Link Points</a>
  <a href="ports.html">Ports</a>
  <a href="nodes.html">Nodes</a>
  <a href="typings.html">Typings</a>
  <a href="debugging.html">Debugging</a>
  <a href="layouts.html">Layouts</a>
  <a href="trees.html">Trees</a>
  <a href="subtrees.html">SubTrees</a>
  <a href="groups.html">Groups</a>
  <a href="subgraphs.html">SubGraphs</a>
  <a href="sizedGroups.html">Sized Groups</a>
  <a href="selection.html">Selection</a>
  <a href="highlighting.html">Highlighting</a>
  <a href="theming.html">Theming</a>
  <a href="routers.html">Routers</a>
  <a href="animation.html">Animation</a>
  <a href="toolTips.html">ToolTips</a>
  <a href="contextmenus.html">Context Menus</a>
  <a href="events.html">Diagram Events</a>
  <a href="tools.html">Tools</a>
  <a href="commands.html">Commands</a>
  <a href="permissions.html">Permissions</a>
  <a href="validation.html">Validation</a>
  <a href="HTMLInteraction.html">HTML Interaction</a>
  <a href="layers.html">Layers &amp; Z-ordering</a>
  <a href="palette.html">Palette</a>
  <a href="overview.html">Overview</a>
  <a href="replacingDeleting.html">Replacing and Deleting</a>
  <a href="buttons.html">Buttons</a>
  <a href="templateMaps.html">Template Maps</a>
  <a href="legends.html">Legends and Titles</a>
  <a href="extensions.html">Extensions</a>
  <a href="geometry.html">Geometry Strings</a>
  <a href="grids.html">Grid Patterns</a>
  <a href="graduatedPanels.html">Graduated Panels</a>
  <a href="SVGcontext.html">Rendering to SVG</a>
  <a href="makingSVG.html">Snapshot to SVG</a>
  <a href="makingImages.html">Diagram Images</a>
  <a href="printing.html">Printing</a>
  <a href="serverSideImages.html">Server-side Images</a>
  <a href="nodeScript.html">GoJS in Node.js</a>
  <a href="testing.html">Testing</a>
  <a href="performance.html">Performance</a>
  <a href="platforms.html">Platforms</a>
  <a href="deployment.html">Deployment</a>

  </nav>
</aside>
<script>
  var navList = document.getElementById('sidenavList');
  if (navList !== null) {
    var url = window.location.href;
    var lindex = url.lastIndexOf('/');
    url = url
      .slice(lindex + 1)
      .toLowerCase();
    var aTags = navList.getElementsByTagName('a');
    var currentindex = -1;
    for (var i = 0; i < aTags.length; i++) {
      var lowerhref = aTags[i]
        .href
        .toLowerCase();
      if (lowerhref.indexOf('/' + url) !== -1) {
        currentindex = i;
        aTags[i]
          .classList
          .add('active');
        break;
      }
    }
  }
</script>
      
      <div class="px-4 pb-16 w-full overflow-hidden prose">
        
<h1>Links</h1>
<p>
  Use the <a>Link</a> class to implement a visual relationship between nodes.
  See samples that make use of customized Links in the <a href="../samples/index.html#links">samples index</a>.
</p>

<h2 id="CreatingLinks">Creating Links</h2>
<p>
  Links are normally created by the presence of link data objects in the <a>GraphLinksModel.linkDataArray</a>
  or by a parent key reference as the value of the <a>TreeModel.nodeParentKeyProperty</a> of a node data object in a <a>TreeModel</a>.
  Users can draw new links by using the <a>LinkingTool</a>: Introduction to the <a href="tools.html#LinkingToolAndRelinkingTool">Linking Tools</a>.
</p>
<p>
  You can create new links programmatically by modifying the model.
  It is most common to operate directly on the model by either calling <a>GraphLinksModel.addLinkData</a> or
  by calling <a>TreeModel.setParentKeyForNodeData</a>.
  Such changes are observed by all diagrams that are displaying the model so that they can automatically create the corresponding <a>Link</a>s.
  You can find examples of calls to <a>GraphLinksModel.addLinkData</a> in the samples.
</p>
<p>
  It is also possible to create new links without detailed knowledge of the diagram's model by calling <a>LinkingTool.insertLink</a>.
  That is how the user's actions to draw a new link actually create it.
  That method knows how to modify the <a>GraphLinksModel</a> or the <a>TreeModel</a> appropriately,
  while respecting the additional functionality offered by the <a>LinkingTool.archetypeLinkData</a> and other properties of the <a>LinkingTool</a>.
  You can find examples of calls to <a>LinkingTool.insertLink</a> in the samples.
</p>

<h2 id="NondirectionalLinks">Non-directional Links</h2>
<p>
  The simplest links are those without arrowheads to indicate a visual direction.
  Either the relationship really is non-directional, or the direction is implicit in the organization of the diagram.
</p>
<p>
  The template contains a <a>Shape</a> as the main element, as the line that is drawn between nodes.
  After the link's route is computed the main Shape will get a <a>Geometry</a> based on the points in the route.
</p>
<pre class="lang-js" id="noArrowheads"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link()       // the whole link panel
      .add(
        new go.Shape()  // the link shape, default black stroke
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('noArrowheads', 600, 100);
</script>
<p>
  By default the way that the model and diagram know about the node data references of a link data is by looking at its from and to properties.
  If you want to use different properties on the link data, set <a>GraphLinksModel.linkFromKeyProperty</a> to be the name of
  the property that results in the node data's key, and similarly for the <a>GraphLinksModel.linkToKeyProperty</a>.
</p>

<h2 id="Arrowheads">Arrowheads</h2>
<p>
  Many links do want to indicate directionality by using arrowheads.
  <b>GoJS</b> makes it easy to create common arrowheads: just add a Shape and set its <a>Shape.toArrow</a> property.
  Setting that property will automatically assign a <a>Geometry</a> to the <a>Shape.geometry</a> and
  will set other properties so that the arrowhead is positioned at the head of the link and is pointing in the correct direction.
  Of course you can set the other Shape properties such as <a>Shape.fill</a> in order to customize the appearance of the arrowhead.
</p>
<pre class="lang-js" id="arrowheads"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link()
      .add(
        new go.Shape(),  // the link shape
        new go.Shape(   // the arrowhead
            { toArrow: "OpenTriangle", fill: null })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('arrowheads', 600, 100);
</script>
<p>
  You can see all of the predefined arrowhead types in the <a href="../samples/arrowheads.html" target="samples">Arrowheads Sample</a>.
</p>
<p>
  You can also have an arrowhead at the start of the link: set the <a>Shape.fromArrow</a> property.
  Note that an arrowhead normally goes along the path of the link regardless of its position on the path,
  so just as with a real arrow, setting <code>{ fromArrow: "TripleFeathers" }</code> has the "feathers" pointing forward.
  If the link is meant to be bi-directional, the arrowhead name for the "from" end of a link will probably want to start with the string "Backward...".
</p>

<h2 id="Routing">Routing</h2>
<p>
  If you want to customize the path that each <a>Link</a> takes, you need to set properties on the link.
  The property that has the most general effect on the points that the link's route follows is <a>Link.routing</a>.
</p>
<p>
  This example shows the two most common routing values: <a>Routing.Normal</a> (the default) and <a>Routing.Orthogonal</a>.
</p>
<pre class="lang-js" id="routing"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link()
      .bind("routing", "routing")
      .add(
        new go.Shape(),
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "50 50" },
    { key: "Gamma", loc: "100 25" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta", routing: go.Routing.Normal },
    { from: "Alpha", to: "Gamma", routing: go.Routing.Orthogonal }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('routing', 600, 100);
</script>

<p>
  Note that the computed route also depends on the properties of the node, including its shape.
  There are other properties, including <a>GraphObject.fromSpot</a> and <a>GraphObject.toSpot</a>, that affect the route.
  For more discussion about spots, please read this Introduction page: <a href="connectionPoints.html">Link Connection Points</a>.
  Furthermore some <a>Layout</a>s set properties on links to control their routing according to what the layout expects.
</p>

<p>
  You can also set <a>Link.routing</a> to <a>Routing.AvoidsNodes</a>:
</p>
<pre class="lang-js" id="avoidsNodes"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link({ routing: go.Routing.AvoidsNodes })  // link route should avoid nodes
      .add(
        new go.Shape(),
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "250 40" },
    { key: "Gamma", loc: "100 0" },
    { key: "Delta", loc: "75 50" },
    { key: "Epsilon", loc: "150 30" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('avoidsNodes', 600, 100);
</script>
<p>
  If you move the nodes interactively, you can see how the link's route adjusts to avoid crossing over nodes.
  Notice that a small gap between nodes might not be considered wide enough for links to go through.
</p>
<p>
  If a node is very close to or overlaps with either the link's <a>Link.fromNode</a> or <a>Link.toNode</a>
  and would block the link's route, it ignores that node, treating it as if it were just an extension of the connected node.
  Also if no node-avoiding route exists because there is a ring of nodes around one of the connected nodes,
  the routing algorithm will give up and cross over some nodes anyway.
</p>
<p>
  You can declare that it is OK to route through a node by setting <a>Node.avoidable</a> to false.
  This is commonly done for <a>Group</a>s to allow links connecting outside of the group to route nicely within the group.
</p>
<p>
  Note the the use of AvoidsNodes routing is distinctly slower than normal Orthogonal routing, especially for large diagrams.
</p>

<p>
  For more complex and customizable routing behaviors, you can use the <a>Router</a> class.
  Routers operate on the collection of links in a <a>Diagram</a> or <a>Group</a> after the <a>Layout</a> has been completed.
  See the Intro page for <a href="routers.html">Routers</a> for more information.
</p>

<h3 id="EndSegmentLengths">End Segment Lengths</h3>
<p>
  Another way to affect the precise route that Orthogonal and AvoidsNodes routing take is to set or bind
  <a>GraphObject.fromEndSegmentLength</a> and <a>GraphObject.toEndSegmentLength</a>.
  These properties determine the length of the very first segment or the very last segment, but only for orthogonally routed links.
  Those properties can be set either on the port element of the node or on the link.
  On the link the property value takes precedence over the corresponding property's value at the port.
</p>
<pre class="lang-js" id="endseg"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link({
        routing: go.Routing.Orthogonal,
        fromSpot: go.Spot.Left, toSpot: go.Spot.Right
      })
      .bind("fromEndSegmentLength")
      .bind("toEndSegmentLength")
      .add(
        new go.Shape(),
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" },
    { key: "Gamma", loc: "0 100" },
    { key: "Delta", loc: "100 150" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" },
    { from: "Gamma", to: "Delta", fromEndSegmentLength: 4, toEndSegmentLength: 30 },
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('endseg', 600, 200);
</script>
<p>
  In this example the values of the <a>Link.fromEndSegmentLength</a> and <a>Link.toEndSegmentLength</a> are bound to the same named properties on the link data.
  In both cases the link's route is forced to come out of the left side of the source node and to the right side of the destination node.
  In the case from "Alpha" to "Beta", you see the default behavior.
  In the case from "Gamma" to "Delta", you see the results of a shorter-than-normal
  <code>fromEndSegmentLength</code> and a longer-than-normal <code>toEndSegmentLength</code>.
</p>

<h2 id="CurveCurvinessCorner">Curve, Curviness, Corner</h2>
<p>
  Once the <a>Link.routing</a> determines the route (i.e., the sequence of points) that the link takes,
  other properties control the details of how the link shape gets its path geometry.
  The first such property is <a>Link.curve</a>, which controls whether the link shape has basically straight segments or is a big curve.
</p>
<p>
  The default value for <a>Link.curve</a> is <a>Curve.None</a>, which produces link shapes with straight segments as you see above.
</p>
<p>
  A value of <a>Curve.Bezier</a> produces a naturally curved path for the link shape.
</p>

<pre class="lang-js" id="bezier"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link({ curve: go.Curve.Bezier })  // Bezier curve
      .add(
        new go.Shape(),
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('bezier', 600, 100);
</script>
<p>
  You can control how curved it is by setting the <a>Link.curviness</a> property. The default produces a slight curve.
</p>

<p>
  If there are multiple links, it will automatically compute reasonable values for the curviness of each link, unless you assign
  <a>Link.curviness</a> explicitly.
</p>
<pre class="lang-js" id="beziers"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link({ curve: go.Curve.Bezier })
      .add(
        new go.Shape(),
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" },  // multiple links between the same nodes
    { from: "Alpha", to: "Beta" },
    { from: "Alpha", to: "Beta" },
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('beziers', 600, 100);
</script>

<p>
  Another kind of curviness comes from rounded corners when the <a>Link.routing</a> is Orthogonal or AvoidsNodes.
</p>
<pre class="lang-js" id="corners"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link({
        routing: go.Routing.AvoidsNodes,
        corner: 10    // rounded corners
      })
      .add(
        new go.Shape(),
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "250 40" },
    { key: "Gamma", loc: "100 0" },
    { key: "Delta", loc: "75 50" },
    { key: "Epsilon", loc: "150 30" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('corners', 600, 100);
</script>

<p>
  Another kind of curviness comes from setting <a>Link.curve</a> to <a>Curve.JumpOver</a>.
  This causes little "hops" in the path of an orthogonal link that crosses another orthogonal link that also has a JumpOver curve.
</p>
<pre class="lang-js" id="jumpOvers"><code>
  diagram.nodeTemplate =
    new go.Node("Auto", { locationSpot: go.Spot.Center })
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link({
        routing: go.Routing.Orthogonal,  // may be either Orthogonal or AvoidsNodes
        curve: go.Curve.JumpOver
      })
      .add(
        new go.Shape(),
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 50" },
    { key: "Beta", loc: "100 50" },
    { key: "Alpha2", loc: "50 0" },
    { key: "Beta2", loc: "50 100" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" },  // these two links will cross
    { from: "Alpha2", to: "Beta2" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('jumpOvers', 600, 150);
</script>

<p>
  Note that the use of link jumping is distinctly slower than normal links because all of the crossing points must be computed
  and the geometry of the link shape will be more complex.
</p>

<p>
  Another kind of curviness (or actually lack of it) comes from setting <a>Link.curve</a> to <a>Curve.JumpGap</a>.
  This causes little "gaps" in the path of an orthogonal link that crosses another orthogonal link that also has a JumpGap curve.
</p>
<pre class="lang-js" id="jumpGaps"><code>
  diagram.nodeTemplate =
    new go.Node("Auto", { locationSpot: go.Spot.Center })
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link({
        routing: go.Routing.Orthogonal,  // may be either Orthogonal or AvoidsNodes
        curve: go.Curve.JumpGap
      })
      .add(
        new go.Shape(),
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 50" },
    { key: "Beta", loc: "100 50" },
    { key: "Alpha2", loc: "50 0" },
    { key: "Beta2", loc: "50 100" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" },  // these two links will cross
    { from: "Alpha2", to: "Beta2" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('jumpGaps', 600, 150);
</script>

<h2 id="EasierClickingOnLinks">Easier Clicking on Links</h2>
<p>
  A problem that users may notice, especially when using fingers but also with the mouse,
  is that it can be difficult to click on links that have a thin <a>Link.path</a>.
  One could set the <a>Shape.strokeWidth</a> to a larger value, such as 8, but you may not want that appearance.
</p>
<pre class="lang-js" id="thickPath"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link()
      .add(
        new go.Shape( { strokeWidth: 8 }),  // thick path
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('thickPath', 600, 100);
</script>

<p>
  The solution is to add a thick path Shape but not have it draw anything.
  This is easily done by setting <code>{ stroke: "transparent", strokeWidth: 8 }</code>.
  However if you want to keep the original path Shape, <em>both</em> Shapes need to be declared as the
  "main" element for the Link by setting <a>GraphObject.isPanelMain</a> to true.
  The Link panel knows that all such Shapes should get the same computed Geometry for the link path.
</p>
<pre class="lang-js" id="doublePath"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link()
      .add(
        new go.Shape( { isPanelMain: true, stroke: "transparent", strokeWidth: 8 }),  // thick undrawn path
        new go.Shape( { isPanelMain: true }),  // default stroke === "black", strokeWidth === 1
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('doublePath', 600, 100);
</script>
<p>
  In this example you will find it easier to select the link than without the second transparent link path shape.
</p>
<p>
  The transparent shape can also be used for highlighting purposes.
  For example, to implement the effect of highlighting the link when the mouse passes over it,
  add <a>GraphObject.mouseEnter</a> and <a>GraphObject.mouseLeave</a> event handlers:
</p>
<pre class="lang-js" id="doublePathHighlight"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link({
        // a mouse-over highlights the link by changing the first main path shape's stroke:
        mouseEnter: (e, link) => link.elt(0).stroke = "rgba(0,90,156,0.3)",
        mouseLeave: (e, link) => link.elt(0).stroke = "transparent"
      })
      .add(
        new go.Shape( { isPanelMain: true, stroke: "transparent", strokeWidth: 8 }),  // thick undrawn path
        new go.Shape( { isPanelMain: true }),  // default stroke === "black", strokeWidth === 1
        new go.Shape( { toArrow: "Standard" })
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('doublePathHighlight', 600, 100);
</script>
<p>
  Pass the mouse over the link to see the effect. Such feedback also helps the user click or context click on the link.
</p>

<h2 id="ShortLengths">Short Lengths</h2>
<p>
  Note in the example above with the thick black path shape, that the arrowhead seems to have disappeared due to the thickness of the link path.
  One can avoid the problem by increasing the <a>GraphObject.scale</a> of the arrowhead, perhaps to 2.
</p>
<pre class="lang-js" id="thickPath2"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link()
      .add(
        new go.Shape( { strokeWidth: 8 }),  // thick path
        new go.Shape( { toArrow: "Standard", scale: 2 }) // bigger arrowhead
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('thickPath2', 600, 100);
</script>

<p>
  Now the arrowhead is clearly visible.
  But that in turn shows that the arrowhead is still obscured at the very end of the link path, where it is too wide to show the point of the arrowhead.
  That problem can be avoided by setting <a>Link.toShortLength</a> to a value such as 8, depending on the kind of arrowhead used.
  The path geometry will be shortened by that distance so that the link path does not interfere with the arrowhead.
</p>
<pre class="lang-js" id="shortLength"><code>
  diagram.nodeTemplate =
    new go.Node("Auto")
      .bind("location", "loc", go.Point.parse)
      .add(
        new go.Shape("RoundedRectangle", { fill: "lightgray" }),
        new go.TextBlock({ margin: 5 })
          .bind("text", "key")
      );

  diagram.linkTemplate =
    new go.Link({ toShortLength: 8 })  // shortens path to avoid interfering with arrowhead
      .add(
        new go.Shape( { strokeWidth: 8 }),  // thick path
        new go.Shape( { toArrow: "Standard", scale: 2 }) // bigger arrowhead
      );

  const nodeDataArray = [
    { key: "Alpha", loc: "0 0" },
    { key: "Beta", loc: "100 50" }
  ];
  const linkDataArray = [
    { from: "Alpha", to: "Beta" }
  ];
  diagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
</code></pre>
<script>
  goCode('shortLength', 600, 100);
</script>

<p>
  There is also a <a>Link.fromShortLength</a> property, to control how far the "from" end of the link path is drawn.
  If there is an end segment, the distance that it can be shortened is limited to the corresponding <a>Link.toEndSegmentLength</a>
  or <a>Link.fromEndSegmentLength</a>.
  Note also that the short length may be negative, which would cause the link path to be drawn longer -- into the port at which the link is connected.
</p>

<h2 id="DisconnectedLinks">Disconnected Links</h2>
<p>
  The normal expectation is that one cannot have a link relationship unless it connects two nodes.
  However <b>GoJS</b> does support the creation and manipulation of links that have either or both of the <a>Link.fromNode</a>
  and <a>Link.toNode</a> properties with null values.
  This is demonstrated by the <a href="../samples/draggableLink.html">Draggable Link</a> sample.
</p>
<p>
  Both ends of the link must be connected to nodes in order for the standard link routing to operate.
  If a link does not know where to start or where to end, it cannot compute a route or a position for the link.
  However, you can provide a route by setting or binding <a>Link.points</a> to a list of two or more Points.
  That will automatically give the link a position so that it can be seen in the diagram.
</p>
<p>
  The linking tools, <a>LinkingTool</a> and <a>RelinkingTool</a>, normally do not permit the creation or reconnection of links that connect with "nothing".
  However, you can set <a>LinkingBaseTool.isUnconnectedLinkValid</a> to true to allow the user to do so, as the Draggable Link sample demonstrates.
</p>
<p>
  Links cannot normally be dragged unless they are part of a collection that includes the connected nodes.
  However, you can set <a>DraggingTool.dragsLink</a> to true to allow the user to drag a solitary <a>Link</a>.
  This mode allows the user to disconnect a link by dragging it away from the node(s)/port(s) to which it was attached.
  It also allows the user to reconnect one or both ends of the link by dropping it so that the end(s) are at valid port(s).
  This too is demonstrated by the Draggable Link sample.
</p>

      </div>
    </div>
    <footer class="bg-white text-gray-900 border-t border-t-gray-200">
  <div class="w-full max-w-screen-lg mx-auto px-4 py-6">
    
    <p id="version" class="text-xs text-gray-900 m-0"></p>
    <div class="text-sm px-0 mb-4 grid grid-cols-2 sm:grid-cols-3 gap-y-10">
      <div>
        <h2 class="text-base font-semibold text-nwoods-primary">GoJS</h2>
        <ul class="list-none space-y-4 md:space-y-1 px-0">
          <li>
            <a href="../samples/index.html">Samples</a>
          </li>
          <li>
            <a href="../learn/index.html">Learn</a>
          </li>
          <li>
            <a href="../intro/index.html">Intro</a>
          </li>
          <li>
            <a href="../api/index.html">API</a>
          </li>
          <li>
            <a href="../changelog.html">Changelog</a>
          </li>
          <li>
            <a href="https://github.com/NorthwoodsSoftware/GoJS" target="_blank" rel="noopener">GitHub</a>
          </li>
        </ul>
      </div>
      <div>
        <h2 class="text-base font-semibold text-nwoods-primary">Support</h2>
        <ul class="list-none space-y-4 md:space-y-1 px-0">
          <li>
            <a href="https://nwoods.com/contact.html"
              target="_blank" rel="noopener" onclick="getOutboundLink('https://nwoods.com/contact.html', 'contact');">Contact</a>
          </li>
          <li>
            <a href="https://forum.nwoods.com/c/gojs" target="_blank" rel="noopener">Forum</a>
          </li>
          <li>
            <a href="https://nwoods.com/app/activate.aspx?sku=gojs" target="_blank" rel="noopener">Activate</a>
          </li>
          <li>
            <a href="https://nwoods.com/sales/index.html"
              target="_blank" rel="noopener" onclick="getOutboundLink('https://nwoods.com/sales/index.html', 'buy');">Buy</a>
          </li>
          
        </ul>
      </div>
      <div>
        <h2 class="text-base font-semibold text-nwoods-primary">Company</h2>
        <ul class="list-none space-y-4 md:space-y-1 px-0">
          <li>
            <a target="_blank" href="https://nwoods.com" target="_blank" rel="noopener">Northwoods</a>
          </li>
          <li>
            <a target="_blank" href="https://nwoods.com/about.html" target="_blank" rel="noopener">About Us</a>
          </li>
          <li>
            <a target="_blank" href="https://nwoods.com/contact.html" target="_blank" rel="noopener">Contact Us</a>
          </li>
          <li>
            <a target="_blank" href="https://nwoods.com/consulting.html" target="_blank" rel="noopener">Consulting</a>
          </li>
          <li>
            <a target="_blank" href="https://twitter.com/northwoodsgo" target="_blank" rel="noopener">Twitter</a>
          </li>
        </ul>
      </div>
    </div>
    <p class="text-sm text-gray-900 md:mb-6">
      Copyright 1998-2024 <a href="https://nwoods.com">Northwoods Software</a>
    </p>
  </div>
</footer>
  </body>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S5QK8VSK84"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'G-S5QK8VSK84');
  var getOutboundLink = function (url, label) {
    gtag('event', 'click', {
      'event_category': 'outbound',
      'event_label': label,
      'transport_type': 'beacon'
    });
  }
  const params = new URL(document.location).searchParams
  let a = params.get('a');
  if (a) localStorage.setItem('a', a);
  a = localStorage.getItem('a');
  document.getElementById('tc').href += `?a=${a}`;
  document.getElementById('tb').href += `?a=${a}`;
</script>
  <script src="../assets/js/prism.js"></script>
  <script src="https://unpkg.com/gojs@3.0.10"></script>
  
  <script src="../assets/js/goDoc.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      if (window.go)
        document
          .getElementById('version')
          .textContent = "GoJS version " + go.version;
      if (window.goDoc)
        window.goDoc();
      var d = window.diagrams;
      for (var i = 0; i < d.length; i++) {
        var dargs = d[i];
        goCodeExecute(dargs[0], dargs[1], dargs[2], dargs[3], dargs[4]);
      }
      if (window.extra)
        window.extra();
      }
    );
  </script>
</html>